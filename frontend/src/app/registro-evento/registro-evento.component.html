<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuestionario para Agendar un Evento</title>
</head>
<body>
    <header class="header">
        <div class="navigation">
            <div class="logo-container">
                <div class="logo-icon" aria-label="Logo de la empresa"></div>
                <span class="logo-text">DECORACIONES CASTILLO</span>
            </div>
            <ul>
                <li><a routerLink="/inicio">INICIO</a></li>
                <li><a routerLink="/paquetes">PAQUETES</a></li>
                <li><a routerLink="/contacto">CONTACTO</a></li>
            </ul>
        </div>
    </header>

    <div class="form-container">
        <h1>Cuestionario para Agendar un Evento</h1>

        <!-- Formulario reactivo -->
        <form [formGroup]="eventForm" (ngSubmit)="submitSurvey()">
          <div class="form-grid">

              <!-- Nombre -->
              <div class="form-group">
                  <label for="nombre">Nombre completo:</label>
                  <input type="text" id="nombre" formControlName="nombre">
                  <div *ngIf="eventForm.get('nombre')?.invalid && eventForm.get('nombre')?.touched">
                    <span *ngIf="eventForm.get('nombre')?.errors?.['message']" class="error-message">{{ eventForm.get('nombre')?.errors?.['message'] }}</span>
                    <span *ngIf="eventForm.get('nombre')?.errors?.['minlength']" class="error-message">El nombre debe tener al menos 3 caracteres.</span>
                    <span *ngIf="eventForm.get('nombre')?.errors?.['maxlength']" class="error-message">El nombre no puede exceder los 50 caracteres.</span>
                    <span *ngIf="eventForm.get('nombre')?.errors?.['nameValidator']" class="error-message">El nombre tiene un formato incorrecto.</span>
                  </div>
              </div>

              <!-- Teléfono -->
              <div class="form-group">
                <label for="telefono">Teléfono de contacto:</label>
                <input type="tel" id="telefono" formControlName="telefono">
                <div *ngIf="eventForm.get('telefono')?.invalid && eventForm.get('telefono')?.touched">
                  <span *ngIf="eventForm.get('telefono')?.errors?.['message']" class="error-message">
                    {{ eventForm.get('telefono')?.errors?.['message'] }}
                  </span>
                </div>
              </div>



              <!-- Correo Electrónico -->
              <div class="form-group">
                  <label for="correo">Correo electrónico:</label>
                  <input type="email" id="correo" formControlName="correo">
                  <div *ngIf="eventForm.get('correo')?.invalid && eventForm.get('correo')?.touched">
                      <span *ngIf="eventForm.get('correo')?.errors?.['message']" class="error-message">{{ eventForm.get('correo')?.errors?.['message'] }}</span>
                  </div>
              </div>

              <!-- Fecha del Evento -->
              <div class="form-group">
                  <label for="fecha_evento">Fecha del evento:</label>
                  <input type="date" id="fecha_evento" formControlName="fecha_evento">
                  <div *ngIf="eventForm.get('fecha_evento')?.invalid && eventForm.get('fecha_evento')?.touched">
                      <span *ngIf="eventForm.get('fecha_evento')?.errors?.['message']" class="error-message">{{ eventForm.get('fecha_evento')?.errors?.['message'] }}</span>
                  </div>
              </div>

              <!-- Hora de Inicio -->
              <div class="form-group">
                  <label for="hora_inicio">Hora de inicio:</label>
                  <input type="time" id="hora_inicio" formControlName="hora_inicio">
                  <div *ngIf="eventForm.get('hora_inicio')?.invalid && eventForm.get('hora_inicio')?.touched">
                      <span *ngIf="eventForm.get('hora_inicio')?.errors?.['message']" class="error-message">{{ eventForm.get('hora_inicio')?.errors?.['message'] }}</span>
                  </div>
              </div>

              <!-- Duración del Evento -->
              <div class="form-group">
                  <label for="duration">Duración evento (horas):</label>
                  <input type="number" id="duration" formControlName="numero_hora" min="1" max="24">
                  <div *ngIf="eventForm.get('numero_hora')?.invalid && eventForm.get('numero_hora')?.touched">
                      <span *ngIf="eventForm.get('numero_hora')?.errors?.['message']" class="error-message">{{ eventForm.get('numero_hora')?.errors?.['message'] }}</span>
                      <span *ngIf="eventForm.get('numero_hora')?.errors?.['min']" class="error-message">La duración debe ser al menos 1 hora.</span>
                      <span *ngIf="eventForm.get('numero_hora')?.errors?.['max']" class="error-message">La duración no puede exceder 24 horas.</span>
                  </div>
              </div>

              <!-- Dirección del Evento -->
              <div class="form-group">
                  <label for="direccion_evento">Dirección del lugar del evento:</label>
                  <input type="text" id="direccion_evento" formControlName="direccion_evento">
                  <div *ngIf="eventForm.get('direccion_evento')?.invalid && eventForm.get('direccion_evento')?.touched">
                      <span *ngIf="eventForm.get('direccion_evento')?.errors?.['message']" class="error-message">{{ eventForm.get('direccion_evento')?.errors?.['message'] }}</span>
                      <span *ngIf="eventForm.get('direccion_evento')?.errors?.['minlength']" class="error-message">La dirección debe tener al menos 5 caracteres.</span>
                      <span *ngIf="eventForm.get('direccion_evento')?.errors?.['maxlength']" class="error-message">La dirección no puede exceder los 100 caracteres.</span>
                  </div>
              </div>

              <!-- Tipo de Evento -->
              <div class="form-group">
                  <label for="tipo_evento">Tipo de evento:</label>
                  <select id="tipo_evento" formControlName="tipo_evento">
                      <option value="" disabled selected>Seleccione un tipo de evento</option>
                      <option value="Cumpleanos">Cumpleaños</option>
                      <option value="Boda">Boda</option>
                      <option value="Quince años">Quince años</option>
                      <option value="Bautizo">Bautizo</option>
                  </select>
                  <div *ngIf="eventForm.get('tipo_evento')?.invalid && eventForm.get('tipo_evento')?.touched">
                      <span *ngIf="eventForm.get('tipo_evento')?.errors?.['message']" class="error-message">{{ eventForm.get('tipo_evento')?.errors?.['message'] }}</span>
                  </div>
              </div>

              <!-- Botón de Enviar -->
              <div class="form-group">
                  <button type="submit">Enviar</button>
              </div>

          </div>
        </form>

        <!-- Mensaje de éxito -->
        <div *ngIf="eventoguardado">
            <p>Evento Agendado Exitosamente</p>
        </div>
    </div>
</body>
</html>